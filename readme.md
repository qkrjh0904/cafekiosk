# 초간단 키오스크를 만들면서 `테스트 코드` 학습해보기.

### 요구사항
```text
1. 주문 목록에 음료 추가/삭제 기능
2. 주문 목록 전체 지우기
3. 주문 목록 총 금액 계산하기
4. 주문 생성하기
```

---
#### 단위테스트
```text
- 클래스 또는 메서드의 작은 코드 단위를 네트워크 등 외부요인 없이 독립적으로 검증하는 테스트
- 검증속도가 빠르고, 안정적이다.
```

#### JUnit5
```text
- 단위 테스트를 위한 테스트 프레임워크
- XUnit - Kent Beck
```

#### AssertJ
```text
- 테스트 코드 작성을 원활하게 돕는 테스트 라이브러리
- 풍분한 API, 메서드 체이닝 지원
```

#### 테스트 케이스 세분화 하기
```text
- 해피 케이스
  - 정상 플로우
- 예외 케이스
  - 아메리카노 0잔 혹은 -1잔?
- 경계값 테스트
  - 이상, 이하, 초과, 미만, 구간, 날짜 등등..
```

#### 테스트 하기 어려운 영역을 분리하기
```text
- 가게 운영시간(10:00 ~ 22:00) 외에는 주문을 생성할 수 없다는 조건이 있을 때
- 현재 시간에 따라서 테스트가 성공하거나 실패하는 코드를 짜면 안된다.
- 검증하고자 하는 대상은 시간 범위 안에 잘 주문이 되는지이다.
- 그렇기 때문에 외부로 분리할수록 테스트 가능한 코드는 많아진다.
- 관측할 때마다 다른 값에 의존하는 코드(현재 날짜/시간, 랜덤 값, 전역 변수/함수, 사용자 입력 등)
- 외부 세계에 영향을 주는 코드(표준 출력, 이메일 발송, 데이터베이스에 기록하기 등)
```
#### TDD: Test Driven Development
```text
테스트 코드를 프로덕션 코드보다 먼저 작성하여 테스트가 구현 과정을 주도하도록 하는 방법론.  

TDD 기본 과정 (레드-그린-리팩토링)
- RED : 실패하는 테스트 작성한다.
- GREEN : 테스트 통과하는 최소한의 코딩. 엉터리 코드여도 괜찮다. 초록불을 보기 위한 코딩이다. 
- REFACTOR : 구현 코드를 개선하고 테스트 통과를 유지시킨다.

TDD의 핵심 가치는 피드백이다.  
과감한 리팩토링을 가능하게 해준다.
내가 구현하는 프로덕션 코드에 대한 보장을 해준다.

테스트를 먼저 작성을 한다면 테스트 하기 좋은 구조로 구현할 수 있도록 생각하게 된다. 
```

#### 테스트는 ?? 이다.
```text
테스트는 문서다.
- 프로덕션 기능을 설명하는 테스트 코드 문서
- 다양한 테스트 케이스를 통해 프로덕션 코드를 이해하는 시각과 관점을 보완
- 어느 한 사람이 과거에 경험했던 고민의 결과물을 팀 차원으로 승격시켜서, 모두의 자산으로 공유할 수 있다.
```
